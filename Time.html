# Understanding the Time-Series Widget

CARTO Builder Time-Series widgets display and filter data over time.

Time-Series widgets enable you to visualize a selected column value over a period of time. Depending on your data, Time-Series widgets can be static or animated and allow you to filter or select a range of data.

- A static Time-Series widget is not animated and displays a specified `number` or `date` column as a range of time. You can distribute data across your map by defined buckets.
    
- An animated Time-Series widget is applied when ANIMATED styling is applied to your map layer. A defined `number` or `date` column drives the animation and the widget includes animation controls to play/pause data over a range of time.
    

This guide describes how to add and edit different types of data with Time-Series widgets in CARTO Builder.

While you can include multiple Formula, Category, and Histogram widgets on your map, only one Time-Series widget is permitted and appears in a fixed location.

## Time-Series by Number

Add a number TIME-SERIES widget in CARTO Builder and define the number of buckets to group data.

1. Navigate to the WIDGETS list.
    
2. Click _ADD_ to add widgets.
    
3. Click the _TIME-SERIES_ subtab.
    
4. Select a column from your map layer that contains `number` data.
    
5. Click _CONTINUE_.
    

A Time-Series widget appears in a fixed location on your map.

1. Edit the widget name, number of BUCKETS for grouping data, change the [dynamic behavior](https://carto.com/help/building-maps/auto-style-to-view-dynamic-data#dynamic-filtering-of-widgets), or customize the [widget color](https://carto.com/help/tutorials/customizing-widget-color/) on your map.

![Add time series from widgets list](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/add_timeseries.gif)

If adding a `number` column from the widget shortcut options (the DATA tab of a map layer), the widget automatically appears as a Histogram. You must edit the widget from the WIDGETS list and change the type to TIME-SERIES.

![Number column defaults to histogram](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/number_timeseries.gif)

## Define the Number of Buckets

Time-Series widgets filter numerical data within a given range. The selected range is distributed across your map in buckets, to display groups of data. The higher the number of buckets, the more granular the data. The objective of grouping data into buckets is to put similar values together.

- From the Time-Series widget options, define the number of BUCKETS under the Data options.

![buckets slider](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/buckets_slider.png)

The data is grouped into different size buckets, enabling you to filter your view over the selected range of time.

## Time-Series by Date

If the selected column for the widget is a `date`, you can define how the date is grouped into buckets (by Minutes, Hours, Days, Weeks, Months, Quarters, Years) and visualize a selected range of time.

The most important requirement is that your `date` column contains valid timestamp values, otherwise the data may not appear correctly. A column that includes a timestamp could be `date`, `created at`, `updated at`, `posted_time`, and so on. For example, the following image shows the value of a `date` column in the Data View.

![Timestamp values](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/timestamp.png)

For details about column data types, see the [_Add Rows and Columns_](https://carto.com/help/tutorials/creating-an-empty-dataset/#add-rows-and-columns) Guide.

For this example, let’s add a TIME-SERIES widget through the DATA tab shortcut.

1. From the LAYERS list, click a layer that contains at least one `date` column.
    
2. Click the _DATA_ tab.
    
    The DATA tab enables you to view the non-geometry columns of your connected dataset and instantly add or edit widgets to gain more insights from your data.
    
3. Click the _Add as a widget_ checkbox next to a column that contains `date`.
    
    A Time-Series widget appears in a fixed location on your map.
    
4. Click _EDIT_ next to the selected column from the DATA tab, which enables you to edit the widget details.
    
    ![Date widget shorcut](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/date_widget_shortcut.png)
    
5. Edit the widget name, define buckets for how to group date, change the [dynamic behavior](https://carto.com/help/building-maps/auto-style-to-view-dynamic-data#dynamic-filtering-of-widgets), or customize the [widget color](https://carto.com/help/tutorials/customizing-widget-color/) on your map.
    
    ![Widget with date aggregation](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/date_widget.png)
    

If adding a `date` column from the widget shortcut options (the DATA tab of a map layer), the widget automatically appears as a Time-Series. If your date column does not contain timestamp values, you may want to change the column type or edit the widget and change it to a Histogram.

## Define the Date Buckets

Time-Series widgets filter date values by a specified range of time. The selected range is distributed across your map in buckets, to display groups of data.

- From the Time-Series widget options, define the buckets under the Data options.

Only the buckets that are applicable to your date values appear (Minutes, Hours, Days, Weeks, Months, Quarters, or Years).

![Aggregation](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/aggregation.png)

The data is grouped by buckets to specify a range of time.

![Aggregation by month](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/aggregation_month.png)

## Time Zones for Dates

When a time-series widget contains a date column, you can specify the time zone for how the dates appear in the widget.

- From the Time-Series widget options, select the TIME ZONE under the Data options.

![Time zones](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/time_zone.png)

If no time zone is selected, the default time zone from CARTO Builder’s configuration is used.

The widget displays the correct timestamp for the time zone selected. For example, the following image displays a column that contains the last modified `date` of crimes reported, grouped by `Minutes`, using the `(GMT-04:00) Eastern Time (US and Canada)` time zone.

![Timezone timestamp](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/timezone_timestamp.png)

## Filtering Values with the Time-Series Widget

Time-Series widgets filter data within a given range. The selected range is distributed across your map to display groups of data; either by a number of buckets (for `number` columns) or by date buckets (for `date` column).

1. From the Time-Series widget, click once on a bucket to display the range selector.
    
    ![Range selector](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/range_selector.png)
    
    This enables you to click and drag the start and end range of selected data. The number of records in each bucket appears.
    
2. Select the start and end range by clicking and dragging the edge of the bucket to change the range of selected data.
    
    ![Selected range](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/selected_range.png)
    
    Only the selected filters appear on your map, and any analyses are rerun and recalculated!
    
3. Optionally, click _Show totals_ from widget context menu.
    

This option displays the total values (highlighted gray bars) in proportion to the selected range of data (as defined by the widget options), which is useful for understanding how the time-series would appear if you were visualizing all of the data.

![Show totals](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/show_totals.png)

## Animated Time-Series Widget

An animated time-series widget is automatically created when you style a map layer with the _ANIMATED_ aggregation option from the STYLE tab. This enables you to visualize point data over time and style different animation options for time-series data. This feature requires a map layer containing point geometries with a timestamp (`date`), or `number` column.

An animated time-series widget includes animation control methods such as play, stop and pause to view a selected range of time. Additionally, you can specify Torque style properties for the animation with the STYLE tab or with CartoCSS properties.

For this section of the guide, we will use a map containing Twitter data in order to view an animated Time-Series widget in action.

1. Click the _STYLE_ tab of a selected map layer.
    
2. From the Aggregation section, select _ANIMATED_.
    
    See the [_Animating Maps with Point Data_](https://carto.com/help/tutorials/animating-maps-with-point-data/) Guide for details about animating your map through the STYLE tab.
    
    A Time-Series widget is automatically added to your map.
    
3. From the COLUMN style option, select a `number` or `date` column from your dataset. (You can also edit any of the styling options that drive the animation, such as the OVERLAP, DURATION, STEPS, TRAILS, and RESOLUTION).
    
    ![Animated style options](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/animated_style_options.png)
    
    See the [Torque Style Maps](https://carto.com/developers/styling/cartocss) documentation for details about the properties behind these animated styling options.
    
    From the widget, you can play the animated Time-Series, pause the animation and filter by a selected range of values, and show totals to display the total values in proportion to the selected range of data.
    
4. To edit any of the widget details, select _Edit_ from the widget context menu.
    
    ![Edit widget option from context menu](/help/images/building-maps/display-data-over-time-with-a-time-series-widget/edit_animated_widget.png)
    
    The Time-Series widget options vary, depending on the type of column selected to animate the data.